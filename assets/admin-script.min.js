"use strict";!function(u){var i=wp_travel_drag_drop_uploader.mapquest;u(document).ready(function(){document.getElementById("wp-travel-tab-content-locations").addEventListener("click",function(){var e=i.latlng.lat,t=i.latlng.lng,a=[0,0],n=i.apiKey;""!=e&&""!=t&&(a=[e,t]);var l=placeSearch({key:n,container:document.querySelector("#mq-search-input"),useDeviceLocation:!0,collection:["poi","airport","address","adminArea"]});L.mapquest.key=n;var r=L.mapquest.map("mapQuest",{center:a,layers:L.mapquest.tileLayer("map"),zoom:i.zoomLevel});r.setView({lat:a[0],lng:a[1]}),L.marker({lat:a[0],lng:a[1]}).addTo(r),u("#wp-travel-mq-lat, #wp-travel-mq-lng").on("change",function(){var e={lat:u("#wp-travel-mq-lat").val(),lng:u("#wp-travel-mq-lng").val()};r.setView({lat:e.lat,lng:e.lng}),L.marker(e).addTo(r)}),L.mapquest.control().addTo(r);var o=[];function c(e){var t=L.marker(e.latlng,{opacity:.4});t.addTo(r),o.push(t)}function s(e){r.removeLayer(e)}l.on("change",function(a){o.forEach(function(e,t){t===a.resultIndex?(o=[e],e.setOpacity(1),r.setView(a.result.latlng,11),u("#wp-travel-mq-lat").val(a.result.latlng.lat),u("#wp-travel-mq-lng").val(a.result.latlng.lng)):s(e)})}),l.on("results",function(e){var t;o.forEach(s),o=[],0!==e.results.length?(e.results.forEach(c),t=L.featureGroup(o),r.fitBounds(t.getBounds().pad(.5),{animate:!1})):r.setView(new L.LatLng(0,0),2)}),l.on("cursorchanged",function(a){o.forEach(function(e,t){t===a.resultIndex?(e.setOpacity(1),e.setZIndexOffset(1e3)):(e.setZIndexOffset(0),e.setOpacity(.5))})}),l.on("clear",function(){console.log("cleared"),r.setView(new L.LatLng(0,0),2),o.forEach(s)}),l.on("error",function(e){console.log(e)})})})}(jQuery);